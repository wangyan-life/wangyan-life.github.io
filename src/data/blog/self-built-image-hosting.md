---
title: 自建图床的图片命名方案及管理方法
author: Wang Yan
pubDatetime: 2022-10-04T12:06:31Z
slug: self-built-image-hosting
featured: false
draft: false
tags:
  - Notes
  - Images
  - Management
description:
  本文介绍了本站图片的命名方案及其管理方法。
---

本站所有的图片链接（包括部分原图链接）都是图床程序自动生成的，例如：`https://pictures.wangyan.life/i/2022-09-20/background-6329d9cb73284.webp`

其他图片的链接形式与上面相同，为了保证每个链接是唯一的，一般都会在文件前面加一层以时间命名的文件夹，如上面链接中的 `2022-09-20`，再在文件名后加上一段字符串，如上面链接中的 `6329d9cb73284`。

这样虽然避免了文件名称重复的可能，但在连接服务器手动管理图片的时候十分麻烦，因为会有无数个 `2022-09-20` 这样的文件夹，而且图片名称超长不太好看。

于是今天想出了一种图片文件的命名方案如下：

**`1-0001-0001-1-XXXX`**

其中，第一位 `1` 表示分类，共七种分类：

> **`1`：笔记**
> **`2`：技术**
> **`3`：软件**
> **`4`：音乐**
> **`5`：图片**
> **`6`：视频**
> **`7`：游戏**
> 
> **若无分类，则为 `0`**

第二到第五位 `0001` 表示文章序号，即在该分类下的第几篇文章：

> **`0001` 到 `9999`**
> 
> **若无分类，则为 `0000`**

第六到第九位 `0001` 表示在该文章中的序号，即是在该文章中的第几张图片：

> **若非头图，则为 `0001` 到 `9999`，并省去第十位**
> 
> **若是头图，则为 `0000`**

第十位 `1` 表示文章头图类型：

> **`1`：小头图**
> **`2`：大头图**

第十一位及以后 `XXXX` 表示备注，有则填写，无则省去，一般用英文或拼音，忌用汉字。

通过以上改进，上传的图片在服务器里更好管理，在图床程序里的显示情况也有改善，有个缺陷就是若文件有备注信息的话可能会被遮挡，因为图床程序里文件名称预览在较拥挤的情况下只能显示 15 个字符左右。

**这样的命名方法可以省去“文件前面加一层以时间命名的文件夹”这一步骤，因为每个文件的命名一定是唯一的，并且还包含足量的信息用以查找和索引。另外，在列出这些文件时，文件名称还起到排列顺序和分类的作用。例如第一位包含了分类信息，所有图片会根据首先根据这个信息进行排列，每个分类的图片一定都在一起；还例如第六到第九位包含是否为头图的信息，若是头图，则为 `0000`，那么可以保证一篇文章的头图一定排列在这篇文章的其他图片之前。**

如此以来，文章开头的链接 `https://pictures.wangyan.life/i/2022-09-20/background-6329d9cb73284.webp` 就可以变为 `https://pictures.wangyan.life/uploads/0-0000-0001-background.webp`

由于完全弃用兰空图床程序，所有链接均使用 AList 生成的链接，故目前图片链接已变为 [`https://cloud.wangyan.life/d/wangyan.life/Pictures/0-Others/top.webp`](https://cloud.wangyan.life/wangyan.life/Pictures/0-Others/top.webp) 这种形式。

[兰空图床 Lsky-pro](https://github.com/lsky-org/lsky-pro)

[AList](https://github.com/alist-org/alist)
